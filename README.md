# ğŸš€ Architecture Microservices avec Spring Cloud, Keycloak et Angular  

Ce projet met en Å“uvre une architecture microservices en utilisant Spring Cloud pour la gestion des services, Eureka pour la dÃ©couverte des services, Keycloak pour la gestion des identitÃ©s et de la sÃ©curitÃ©, Log4j pour la gestion des logs et JUnit pour les tests unitaires. Il comprend Ã©galement une interface utilisateur dÃ©veloppÃ©e en Angular permettant dâ€™interagir avec les microservices.  

Lâ€™objectif principal de ce projet est de dÃ©montrer comment construire une application distribuÃ©e oÃ¹ chaque service fonctionne de maniÃ¨re indÃ©pendante tout en communiquant avec les autres services via une API Gateway centralisÃ©e. Lâ€™architecture permet ainsi une Ã©volutivitÃ©, une meilleure gestion des accÃ¨s et une surveillance efficace du systÃ¨me grÃ¢ce aux logs et aux tests.  

Lâ€™application repose sur plusieurs composants clÃ©s. Tout dâ€™abord, lâ€™**API Gateway** basÃ©e sur Spring Cloud joue un rÃ´le fondamental en servant de point dâ€™entrÃ©e unique pour toutes les requÃªtes et en appliquant les rÃ¨gles de sÃ©curitÃ© dÃ©finies avec Keycloak. Elle permet Ã©galement de centraliser la gestion des services et dâ€™assurer un Ã©quilibrage de charge lorsque plusieurs instances dâ€™un microservice sont en cours dâ€™exÃ©cution. Pour cela, Spring Cloud Gateway est configurÃ© afin de router les requÃªtes vers les microservices adÃ©quats en fonction des chemins dÃ©finis dans le fichier de configuration.  

Ensuite, **Eureka Service Discovery** permet aux microservices de sâ€™enregistrer dynamiquement et de dÃ©couvrir dâ€™autres services sans avoir besoin de connaÃ®tre leurs adresses exactes. Cela permet une plus grande flexibilitÃ© et facilite le dÃ©ploiement de nouveaux services sans nÃ©cessiter de modifications manuelles dans la configuration des services existants.  

La sÃ©curitÃ© est gÃ©rÃ©e par **Keycloak**, un serveur dâ€™authentification qui fournit des fonctionnalitÃ©s avancÃ©es telles que lâ€™authentification OAuth2, OpenID Connect et la gestion des rÃ´les. Chaque requÃªte envoyÃ©e aux microservices doit Ãªtre authentifiÃ©e via Keycloak, garantissant ainsi un accÃ¨s sÃ©curisÃ© aux diffÃ©rentes fonctionnalitÃ©s de lâ€™application. La configuration de Keycloak dans les services backend se fait en dÃ©finissant un serveur dâ€™autorisation dans les propriÃ©tÃ©s de configuration, permettant ainsi aux services de vÃ©rifier lâ€™authenticitÃ© des tokens JWT envoyÃ©s par les clients.  

Pour assurer une traÃ§abilitÃ© efficace des Ã©vÃ©nements de lâ€™application, **Log4j** est utilisÃ© pour la gestion des logs. Chaque service est configurÃ© pour enregistrer ses propres logs, ce qui facilite lâ€™analyse des erreurs et le suivi des requÃªtes Ã  travers lâ€™ensemble du systÃ¨me. GrÃ¢ce Ã  Log4j, il est possible de gÃ©nÃ©rer des fichiers de logs dÃ©taillÃ©s, comprenant des informations sur les requÃªtes entrantes, les rÃ©ponses envoyÃ©es, ainsi que les Ã©ventuelles erreurs survenues lors du traitement des donnÃ©es.  

Lâ€™implÃ©mentation de **tests unitaires** est une Ã©tape essentielle pour garantir la fiabilitÃ© et la stabilitÃ© des microservices. Avec **JUnit**, des tests sont Ã©crits pour valider les diffÃ©rentes fonctionnalitÃ©s des services, notamment la rÃ©cupÃ©ration des donnÃ©es, la gestion des erreurs et les interactions avec la base de donnÃ©es. Ces tests permettent de sâ€™assurer que chaque service fonctionne correctement de maniÃ¨re isolÃ©e et quâ€™il rÃ©pond aux attentes dÃ©finies dans les spÃ©cifications du projet.  

En complÃ©ment des services backend, le projet inclut un **mini front-end dÃ©veloppÃ© en Angular** permettant dâ€™interagir avec les microservices. Cette interface utilisateur consomme les API exposÃ©es par lâ€™API Gateway et affiche les donnÃ©es en temps rÃ©el. Elle offre notamment des fonctionnalitÃ©s telles que lâ€™affichage de listes dâ€™Ã©lÃ©ments rÃ©cupÃ©rÃ©s depuis la base de donnÃ©es, lâ€™authentification des utilisateurs via Keycloak et la gestion des droits dâ€™accÃ¨s en fonction des rÃ´les dÃ©finis dans Keycloak.  

Lâ€™exÃ©cution du projet suit une sÃ©rie dâ€™Ã©tapes bien dÃ©finies. Tout dâ€™abord, il faut dÃ©marrer **Eureka Server**, qui servira de registre central pour les microservices. Ensuite, il est nÃ©cessaire de lancer Keycloak et de configurer le realm ainsi que les clients et utilisateurs requis. Une fois ces services dÃ©marrÃ©s, lâ€™API Gateway peut Ãªtre lancÃ©e, suivie des diffÃ©rents microservices. Enfin, le front-end Angular peut Ãªtre exÃ©cutÃ© pour permettre aux utilisateurs dâ€™interagir avec lâ€™application via une interface graphique intuitive.  


notons bien que ce travail a Ã©tÃ© fais de faÃ§on collective et de l'entraide
